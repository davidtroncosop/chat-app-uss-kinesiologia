# Cloudflare Workers Environment Variables
# Copia este archivo y configura las variables en Cloudflare Pages → Settings → Environment Variables

# ========================================
# REQUERIDO
# ========================================

# Google Gemini API Key (REQUERIDO)
# Obtener en: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=AIzaSy...

# ========================================
# OPCIONAL - Supabase (para RAG)
# ========================================

# Supabase Configuration (Opcional - para búsqueda en documentos)
# Obtener en: Supabase Dashboard → Settings → API
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ========================================
# OPCIONAL - PostgreSQL (para historial)
# ========================================

# PostgreSQL Connection (Opcional - para historial de conversaciones)
# Puedes usar Supabase PostgreSQL o cualquier otro
DATABASE_URL=postgresql://user:password@host:5432/database

# ========================================
# OPCIONAL - Configuración de Gemini
# ========================================

# Gemini API Version (Default: v1)
# Opciones: v1, v1beta
GEMINI_API_VERSION=v1

# Gemini Model (Default: gemini-pro)
# Opciones: gemini-pro, gemini-1.5-flash, gemini-1.5-pro
GEMINI_MODEL=gemini-pro

# Gemini Embedding Model (Default: embedding-001)
# Opciones: embedding-001, text-embedding-004
GEMINI_EMBEDDING_MODEL=embedding-001

# ========================================
# NOTAS
# ========================================

# 1. Solo GOOGLE_GEMINI_API_KEY es requerido para empezar
# 2. Supabase es opcional - el agente funciona sin documentos
# 3. PostgreSQL es opcional - el agente funciona sin historial
# 4. Las configuraciones de Gemini usan valores por defecto si no se especifican
# 5. Los valores por defecto son compatibles con n8n

# ========================================
# MODELOS DISPONIBLES
# ========================================

# gemini-pro:
#   - Modelo estándar, bueno para la mayoría de casos
#   - Gratis: 60 requests/minuto
#   - Contexto: 32k tokens
#
# gemini-1.5-flash:
#   - Más rápido y económico
#   - Bueno para respuestas rápidas
#   - Contexto: 1M tokens
#
# gemini-1.5-pro:
#   - Más potente y preciso
#   - Mejor para tareas complejas
#   - Contexto: 2M tokens

# ========================================
# TROUBLESHOOTING
# ========================================

# Si ves error "model not found":
# - Verifica que GEMINI_API_VERSION sea correcto (v1 o v1beta)
# - Verifica que GEMINI_MODEL esté disponible en esa versión
# - Prueba con los valores por defecto (v1 + gemini-pro)

# Si ves error 429 (rate limit):
# - Estás excediendo 60 requests/minuto (free tier)
# - Espera 1 minuto o considera upgrade

# Si ves error 401:
# - API key inválida o expirada
# - Genera nueva en https://makersuite.google.com/app/apikey
